warning: in the working copy of 'src/pages/Words.tsx', LF will be replaced by CRLF the next time Git touches it
[1mdiff --git a/src/pages/Words.tsx b/src/pages/Words.tsx[m
[1mindex 152bf8e..c2871b4 100644[m
[1m--- a/src/pages/Words.tsx[m
[1m+++ b/src/pages/Words.tsx[m
[36m@@ -1,149 +1,2100 @@[m
[31m-import { useState } from 'react';[m
[31m-import wordsDataRaw from '../data/words.json';[m
[31m-[m
[31m-// 修正类型声明，支持动态主题和场景[m
[31m-type Word = { word: string; chinese: string; example: string; pos?: string; collocations?: string; collocations_cn?: string; example_cn?: string };[m
[31m-type WordsData = {[m
[31m-  [theme: string]: {[m
[31m-    [scene: string]: Word[];[m
[31m-  };[m
[31m-};[m
[31m-const wordsData: WordsData = wordsDataRaw as any;[m
[31m-[m
[31m-const themes = [[m
[31m-  { name: '咖啡馆篇', count: 62 },[m
[31m-  { name: '商场购物', count: 75 },[m
[31m-  { name: '交通出行', count: 92 },[m
[31m-  { name: '餐厅饮食', count: 50 },[m
[31m-  { name: '天气季节', count: 63 },[m
[31m-  { name: '身体生病', count: 66 },[m
[31m-  { name: '食物食材', count: 69 },[m
[31m-  { name: '化妆护肤', count: 56 },[m
[31m-  { name: '办公职场', count: 65 },[m
[31m-  { name: '情绪心情', count: 57 },[m
[31m-  { name: '旅游观光', count: 52 },[m
[31m-  { name: '家庭生活', count: 57 },[m
[31m-  { name: '银行金融', count: 57 },[m
[31m-  { name: '租房搬家', count: 53 },[m
[31m-  { name: '网络社交', count: 52 },[m
[31m-  { name: '文化假期', count: 50 },[m
[31m-  { name: '健身房篇', count: 54 },[m
[31m-  { name: '便利店篇', count: 28 },[m
[31m-  { name: '洗衣店篇', count: 60 },[m
[31m-  { name: '外卖快递', count: 57 },[m
[31m-  { name: '家电维修', count: 62 },[m
[31m-  { name: '俄语四级', count: 66 },[m
[31m-  { name: '更多主题持续更新中', count: 1 },[m
[32m+[m[32mimport { useState, useCallback, memo } from 'react';[m
[32m+[m
[32m+[m[32m// 单词相关功能已删除[m
[32m+[m
[32m+[m[32m// 主题列表 - 移到组件外部避免重复创建[m
[32m+[m[32m// A1级别主题[m
[32m+[m[32mconst a1Themes = [[m
[32m+[m[32m  '基础名词', '动词', '形容词', '数字', '颜色', '家庭成员',[m
[32m+[m[32m  '时间与日期', '天气与自然', '职业', '食物与饮品', '身体部位', '交通工具',[m
[32m+[m[32m  '服装与配饰', '日常用品', '动物', '国家与语言', '情绪与感受', '购物与市场',[m
[32m+[m[32m  '学校与教育', '运动与活动', '旅行与交通', '医疗与健康', '方向与位置', '节日与庆祝',[m
[32m+[m[32m  '家居用品', '电子产品', '日常活动', '反义词与对比', '季节与天气', '常见短语'[m
[32m+[m[32m];[m
[32m+[m
[32m+[m[32m// A2级别主题[m
[32m+[m[32mconst a2Themes = [[m
[32m+[m[32m  '进阶动词', '抽象名词', '职业与工作', '旅行与交通', '健康与医疗', '科技与网络',[m
[32m+[m[32m  '教育与学习', '食物与烹饪', '自然与环境', '艺术与文化', '时间频率', '购物交易',[m
[32m+[m[32m  '关系与社会', '情感心理', '法律政府', '媒体新闻', '运动与竞赛', '工具与材料',[m
[32m+[m[32m  '建筑结构', '哲学思想', '旅行扩展', '节日庆祝', '音乐与乐器', '自然天气',[m
[32m+[m[32m  '数字科学', '电影娱乐', '职业扩展', '身体健康', '经济金融', '抽象概念',[m
[32m+[m[32m  '商业经济', '心理情感', '自然地理', '科技数字', '文学写作', '交通出行',[m
[32m+[m[32m  '心理社会', '学术教育', '娱乐休闲', '国际政治'[m
 ];[m
 [m
[31m-const modes = ['全部', '未标注', '认识', '不认识', '模糊'];[m
[31m-const studyModes = ['默认', '乱一', '乱二', '学习模式', '列表模式'];[m
[32m+[m[32m// 根据级别获取主题列表[m
[32m+[m[32mconst getThemesByLevel = (level: string) => {[m
[32m+[m[32m  if (level === 'A1') return a1Themes;[m
[32m+[m[32m  if (level === 'A2') return a2Themes;[m
[32m+[m[32m  return [];[m
[32m+[m[32m};[m
[32m+[m
[32m+[m[32m// 主题映射 - 移到组件外部避免重复创建[m
[32m+[m[32mconst a1ThemeMap: { [key: string]: string } = {[m
[32m+[m[32m  '基础名词': '1', '动词': '2', '形容词': '3', '数字': '4', '颜色': '5',[m
[32m+[m[32m  '家庭成员': '6', '时间与日期': '7', '天气与自然': '8', '职业': '9', '食物与饮品': '10',[m
[32m+[m[32m  '身体部位': '11', '交通工具': '12', '服装与配饰': '13', '日常用品': '14', '动物': '15',[m
[32m+[m[32m  '国家与语言': '16', '情绪与感受': '17', '购物与市场': '18', '学校与教育': '19', '运动与活动': '20',[m
[32m+[m[32m  '旅行与交通': '21', '医疗与健康': '22', '方向与位置': '23', '节日与庆祝': '24', '家居用品': '25',[m
[32m+[m[32m  '电子产品': '26', '日常活动': '27', '反义词与对比': '28', '季节与天气': '29', '常见短语': '30'[m
[32m+[m[32m};[m
[32m+[m
[32m+[m[32mconst a2ThemeMap: { [key: string]: string } = {[m
[32m+[m[32m  '进阶动词': '1', '抽象名词': '2', '职业与工作': '3', '旅行与交通': '4', '健康与医疗': '5',[m
[32m+[m[32m  '科技与网络': '6', '教育与学习': '7', '食物与烹饪': '8', '自然与环境': '9', '艺术与文化': '10',[m
[32m+[m[32m  '时间频率': '11', '购物交易': '12', '关系与社会': '13', '情感心理': '14', '法律政府': '15',[m
[32m+[m[32m  '媒体新闻': '16', '运动与竞赛': '17', '工具与材料': '18', '建筑结构': '19', '哲学思想': '20',[m
[32m+[m[32m  '旅行扩展': '21', '节日庆祝': '22', '音乐与乐器': '23', '自然天气': '24', '数字科学': '25',[m
[32m+[m[32m  '电影娱乐': '26', '职业扩展': '27', '身体健康': '28', '经济金融': '29', '抽象概念': '30',[m
[32m+[m[32m  '商业经济': '31', '心理情感': '32', '自然地理': '33', '科技数字': '34', '文学写作': '35',[m
[32m+[m[32m  '交通出行': '36', '心理社会': '37', '学术教育': '38', '娱乐休闲': '39', '国际政治': '40'[m
[32m+[m[32m};[m
[32m+[m
[32m+[m[32m// A2级别使用三位数格式的主题[m
[32m+[m[32mconst a2ThreeDigitThemes = new Set([[m
[32m+[m[32m  '进阶动词', '抽象名词', '职业与工作', '旅行与交通', '健康与医疗',[m[41m [m
[32m+[m[32m  '科技与网络', '教育与学习', '食物与烹饪', '自然与环境', '艺术与文化', '经济金融'[m
[32m+[m[32m]);[m
[32m+[m
[32m+[m[32m// 优化的主题按钮组件[m
[32m+[m[32mconst ThemeButton = memo(({ theme, isActive, onClick }: { theme: string; isActive: boolean; onClick: () => void }) => ([m
[32m+[m[32m  <button[m[41m [m
[32m+[m[32m    className={`filter-button ${isActive ? 'active' : ''}`}[m
[32m+[m[32m    onClick={onClick}[m
[32m+[m[32m  >[m
[32m+[m[32m    {theme}[m
[32m+[m[32m  </button>[m
[32m+[m[32m));[m
[32m+[m
[32m+[m[32m// 优化的级别按钮组件[m
[32m+[m[32mconst LevelButton = memo(({ level, isActive, onClick }: { level: string; isActive: boolean; onClick: () => void }) => ([m
[32m+[m[32m  <button[m[41m [m
[32m+[m[32m    className={`filter-button ${isActive ? 'active' : ''}`}[m
[32m+[m[32m    onClick={onClick}[m
[32m+[m[32m  >[m
[32m+[m[32m    {level}[m
[32m+[m[32m  </button>[m
[32m+[m[32m));[m
[32m+[m
[32m+[m[32m// 筛选按钮区域组件[m
[32m+[m[32mconst FilterButtons = memo(({[m[41m [m
[32m+[m[32m  selectedLevel,[m[41m [m
[32m+[m[32m  selectedTheme,[m[41m [m
[32m+[m[32m  onLevelClick,[m[41m [m
[32m+[m[32m  onThemeClick[m[41m [m
[32m+[m[32m}: {[m
[32m+[m[32m  selectedLevel: string;[m
[32m+[m[32m  selectedTheme: string;[m
[32m+[m[32m  onLevelClick: (level: string) => void;[m
[32m+[m[32m  onThemeClick: (theme: string) => void;[m
[32m+[m[32m}) => ([m
[32m+[m[32m  <div className="filter-buttons-container">[m
[32m+[m[3