# 🧪 快速测试跨设备同步

## ✅ 系统已配置完成

你的俄语学习网站现在已经配置好后端API，可以实现跨设备同步！

### 当前状态
- ✅ 后端服务器已启动（端口3001）
- ✅ 前端已配置API地址
- ✅ 代码已修改为使用API
- ✅ 构建成功

## 🎯 测试步骤

### 测试1：验证后端运行

打开浏览器访问：
```
http://localhost:3001/api/health
```

应该看到：
```json
{
  "status": "ok",
  "message": "俄语学习网站API运行中",
  "timestamp": "..."
}
```

### 测试2：启动前端

```bash
npm run dev
```

访问：`http://localhost:5173`

### 测试3：跨设备同步测试

#### 方式A：同一电脑不同浏览器
1. **Chrome浏览器**：
   - 打开 `http://localhost:5173/login`
   - 点击"申请账号"
   - 用户名：`testuser`
   - 密码：`test123`
   - 提交申请

2. **Edge/Firefox浏览器**：
   - 打开 `http://localhost:5173/login`
   - 用管理员登录（admin / admin000）
   - 点击"用户管理"
   - 应该能看到testuser的申请 ✅

#### 方式B：不同设备（推荐）
1. **手机**：
   - 连接到同一WiFi
   - 访问 `http://你的电脑IP:5173/login`
   - 申请账号：userphone / phone123

2. **电脑**：
   - 管理员登录
   - 进入用户管理
   - 应该能看到手机提交的申请 ✅

### 测试4：审批功能
1. 在用户管理页面点击待审批标签
2. 看到申请后点击✓批准
3. 用户立即可以登录

### 测试5：验证跨设备登录
1. 在手机上用刚批准的账号登录
2. 在电脑上也用同一账号登录
3. 应该都能成功（设备限制2个）
4. 在平板尝试登录
5. 应该提示"已在2个设备上登录" ✅

## 📱 获取电脑IP地址

### Windows
```bash
ipconfig
```
查找"IPv4 地址"，通常是：`192.168.x.x`

### Mac/Linux
```bash
ifconfig | grep inet
```

## ⚠️ 常见问题

### Q: 手机访问不了电脑地址
A: 确保：
- 手机和电脑在同一WiFi
- 防火墙允许端口5173和3001
- 使用电脑的局域网IP（192.168.x.x）

### Q: API连接失败
A: 检查：
- 后端是否在运行：`http://localhost:3001/api/health`
- .env文件是否存在
- 前端是否重启

### Q: 数据不同步
A: 确认：
- 后端正在运行
- 浏览器控制台没有API错误
- 刷新页面

## 🎉 成功标志

如果一切正常，你应该能：
- ✅ 在任何设备上看到用户申请
- ✅ 在任何设备上审批用户
- ✅ 审批后的用户在所有设备都能登录
- ✅ 设备限制在所有设备生效

## 📝 下一步

### 如果测试成功
- 可以正式使用了
- 数据保存在 `backend/data/` 目录
- 定期备份这个目录

### 如果要部署到生产环境
查看：`BACKEND-API-SETUP.md`

### 如果遇到问题
1. 检查后端是否运行
2. 检查浏览器控制台错误
3. 检查防火墙设置
4. 尝试重启前后端服务

## 🔧 管理命令

```bash
# 启动后端（在backend目录）
cd backend
npm start

# 启动前端（在项目根目录）
npm run dev

# 停止服务
# 在运行的终端按 Ctrl+C

# 查看后端数据
cd backend/data
# users.json - 所有用户
# requests.json - 所有申请
# devices.json - 设备记录
```

现在你可以开始测试跨设备同步功能了！🚀

